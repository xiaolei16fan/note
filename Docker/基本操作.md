你想想，Docker是什么，首先Docker是一个软件。它可以实现很多功能。

我为什么要用Docker，因为Docker可以任意创建任何你想要的镜像，比如说像PHP，MySQL，Nginx这些程序。

我们以前搭建一个PHP程序的运行环境的时候是手动一个一个软件去这样装好的。在遇到软件更新的时候比较麻烦，所以一遇到软件需要打安全补丁，这个问题就很棘手。

但现在我们有了Docker，那么意味着我们可以很方便地更新软件版本，可以很方便地扩容，总之它改进了软件的发布方式，加快了软件交付过程。

所以，Docker的架构是怎么样的呢。

首先，我们先确定几个概念：
1. Container, 容器
2. Image， 镜像
3. Stack， 栈
4. Service， 服务
5. Compose File
6. Dockerfile

我们要怎么组建一个PHP开发环境呢？

想想我的需求，我需要一个PHP程序，MySQL，Ningx，Redis，Memcache这几个程序。

Docker的逻辑是一个服务对应一个容器，那么PHP应该对应一个容器，

那么怎么创建一个容器？

首先要有个项目目录，比如说叫php-stack，

然后在里面创建几个目录，
- php
- nginx
- redis
- memcache
- code
- xdebug

容器是由什么构成的？构建一个容器需要一个脚本文件，叫Dockerfile，我们在这个文件上编写魔法，
然后运行它，就可以构建一个容器。

怎么编写Dockerfile，我需要怎么描述一个容器，这个容器都提供哪些服务？

首先，这个容器是运行PHP程序的，也就是FASTCGI程序，当nginx把需要运行的PHP文件发给它的时候，它就运行它。

所以，这个容器也运行了一个PHP-FPM进程，随时等待Nginx的调用。

我们先找个容器模板吧。。

官方的最佳实践中推荐我们使用`.dockerignore`文件来忽略不需要的文件。

然后在每个软件的目录下还需要创建它们的配置文件，在`php`目录中我们创建`php7.2.ini`

发现了一个更快使用docker的方法，一个像`wamp`一样的软件。

